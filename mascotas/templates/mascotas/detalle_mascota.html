{% extends "base.html" %}

{% block content %}
<h2>{{ mascota.nombre }} ({{ mascota.especie }})</h2>
<p><strong>Raza:</strong> {{ mascota.raza }}</p>
<p><strong>Edad:</strong> {{ mascota.edad }} años</p>
<p><strong>Sexo:</strong> {{ mascota.sexo }}</p>
<p><strong>Tamaño:</strong> {{ mascota.tamaño }}</p>
<p><strong>Ubicación:</strong> {{ mascota.ubicacion }}</p>
<p><strong>Descripción:</strong> {{ mascota.descripcion }}</p>
<p><strong>Estado de salud:</strong> {{ mascota.estado_salud }}</p>

{% if fotos %}
<div id="carouselMascota{{ mascota.id }}" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    {% for foto in fotos %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
        <img src="{{ foto.imagen.url }}" class="d-block w-100" alt="Foto de {{ mascota.nombre }}">
        {% if foto.descripcion %}
        <div class="carousel-caption d-none d-md-block">
          <p>{{ foto.descripcion }}</p>
        </div>
        {% endif %}
      </div>
    {% endfor %}
  </div>

  <!-- Controles -->
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselMascota{{ mascota.id }}" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselMascota{{ mascota.id }}" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>
{% else %}
<p>No hay fotos disponibles para esta mascota.</p>
{% endif %}

<div class="mt-3">
    <a href="{% url 'solicitar_adopcion' mascota.id %}" class="btn btn-primary">Solicitar adopción</a>
    <a href="{% url 'listar_mascotas' %}" class="btn btn-secondary">Volver a la lista</a>

  {% if user.is_authenticated and user.is_staff %}
    <a href="{% url 'editar_mascota' mascota.pk %}" class="btn btn-warning">Editar</a>
    <a href="{% url 'eliminar_mascota' mascota.pk %}" class="btn btn-danger">Eliminar</a>
  {% endif %}
</div>
{% endblock %}
